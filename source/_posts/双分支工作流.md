---
title: 双分支工作流
author: JoyAns
date: 2025-10-07 15:40:28
tags:
---
在一台新的电脑上去更改博客编写文章

##### 在第一台电脑初始化

###### **1.初始化本地 Git 仓库并切换分支**

```bash
# 初始化 Git
git init

# 创建一个专门存放源文件的分支，比如叫 hexo-source
git checkout -b hexo-source

# 将本地仓库关联到你的 GitHub 远程仓库
git remote add origin https://github.com/yourusername/yourusername.github.io.git
```


###### **2.提交并推送源文件**

```bash
# 添加所有文件到暂存区
git add .

# 提交更改
git commit -m "Initial commit of Hexo source files"

# 将 hexo-source 分支推送到 GitHub
git push origin hexo-source
```

##### 在第二台电脑上克隆并工作

###### **1.克隆源文件分支**

```bash
# 克隆你刚刚创建的源文件分支
git clone -b hexo-source https://github.com/yourusername/yourusername.github.io.git my-blog
cd my-blog
```

###### **2.安装依赖**

```bash
npm install
# 或者如果你使用了 hexo-cli
# npm install hexo-cli -g
# npm install
```

###### **3.正常写作和部署**

```bash
# 写新文章等...
hexo new "我的新文章"

# 生成、部署
hexo clean && hexo g && hexo d

# 将源文件的更改也推送到 GitHub
git add .
git commit -m "Publish new post: 我的新文章"
git push origin hexo-source
```

在任何一台电脑上工作后，都需要执行**两条命令**：

1. `git push origin hexo-source` (推送源文件更改)
1. `hexo d` (部署静态网站)

开始工作前执行`git pull origin hexo-source`拉取另一台电脑可能做的更新。
